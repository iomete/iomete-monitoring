apiVersion: v1
kind: ConfigMap
metadata:
  name: {{ .Release.Name }}-grafana-alert-folder-gv
  namespace: {{ .Release.Namespace }}
  labels:
    {{- include "iomete-monitoring-chart.labels" . | nindent 4 }}
data:
  serv-avail.json: |-
    {
          "annotations": {
            "list": [
              {
                "builtIn": 1,
                "datasource": {
                  "type": "grafana",
                  "uid": "-- Grafana --"
                },
                "enable": true,
                "hide": true,
                "iconColor": "rgba(0, 211, 255, 1)",
                "name": "Annotations & Alerts",
                "type": "dashboard"
              }
            ]
          },
          "editable": true,
          "fiscalYearStartMonth": 0,
          "graphTooltip": 0,
          "id": 15,
          "links": [
            {
              "asDropdown": true,
              "icon": "dashboard",
              "includeVars": false,
              "keepTime": true,
              "tags": [],
              "targetBlank": true,
              "title": "Services Detailed Dashboard",
              "tooltip": "Open Dashboard",
              "type": "link",
              "url": "https://{{  .Values.grafana.domainAccess.domain }}/monitoring/d/pmawgrlGk/application-metrics-view?orgId=1&from=now-24h&to=now&timezone=browser&var-service=iom-rest-catalog&var-api=$__all&var-method=$__all"
            }
          ],
          "panels": [
            {
              "datasource": {
                "type": "prometheus",
                "uid": "Prometheus"
              },
              "description": "Core Service availability status",
              "fieldConfig": {
                "defaults": {
                  "color": {
                    "mode": "thresholds"
                  },
                  "custom": {
                    "axisBorderShow": false,
                    "axisCenteredZero": false,
                    "axisColorMode": "text",
                    "axisLabel": "",
                    "axisPlacement": "auto",
                    "barAlignment": 0,
                    "barWidthFactor": 0.6,
                    "drawStyle": "line",
                    "fillOpacity": 10,
                    "gradientMode": "none",
                    "hideFrom": {
                      "legend": false,
                      "tooltip": false,
                      "viz": false
                    },
                    "insertNulls": false,
                    "lineInterpolation": "linear",
                    "lineWidth": 1,
                    "pointSize": 5,
                    "scaleDistribution": {
                      "type": "linear"
                    },
                    "showPoints": "auto",
                    "spanNulls": false,
                    "stacking": {
                      "group": "A",
                      "mode": "none"
                    },
                    "thresholdsStyle": {
                      "mode": "off"
                    }
                  },
                  "links": [
                    {
                      "targetBlank": true,
                      "title": "Core Service Detailed",
                      "url": "https://{{  .Values.grafana.domainAccess.domain }}/monitoring/d/pmawgrlGk/application-metrics-view?orgId=1&from=now-24h&to=now&timezone=browser&var-service=iom-core&var-api=$__all&var-method=$__all"
                    }
                  ],
                  "mappings": [],
                  "max": 1,
                  "min": 0,
                  "noValue": "0",
                  "thresholds": {
                    "mode": "absolute",
                    "steps": [
                      {
                        "color": "red",
                        "value": null
                      },
                      {
                        "color": "green",
                        "value": 1
                      }
                    ]
                  }
                },
                "overrides": []
              },
              "gridPos": {
                "h": 8,
                "w": 8,
                "x": 0,
                "y": 0
              },
              "id": 4,
              "links": [
                {
                  "targetBlank": true,
                  "title": "Detailed Metrics",
                  "url": "https://{{  .Values.grafana.domainAccess.domain }}/monitoring/d/pmawgrlGk/application-metrics-view?orgId=1&from=now-24h&to=now&timezone=browser&var-service=iom-core&var-api=$__all&var-method=$__all"
                }
              ],
              "options": {
                "legend": {
                  "calcs": [],
                  "displayMode": "list",
                  "placement": "bottom",
                  "showLegend": true
                },
                "tooltip": {
                  "hideZeros": false,
                  "mode": "single",
                  "sort": "none"
                }
              },
              "pluginVersion": "11.5.1",
              "targets": [
                {
                  "datasource": {
                    "type": "prometheus",
                    "uid": "Prometheus"
                  },
                  "editorMode": "code",
                  "expr": "min by (app) (\n  label_replace(\n    min_over_time(kube_pod_status_ready{condition=\"true\", pod=~\"iom-core.*\"}[$__interval]),\n    \"app\", \n    \"$1\", \n    \"pod\", \n    \"(iom-core).*\"\n  )\n)",
                  "legendFormat": "__auto",
                  "range": true,
                  "refId": "A"
                }
              ],
              "title": "Core Service",
              "type": "timeseries"
            },
            {
              "datasource": {
                "type": "prometheus",
                "uid": "Prometheus"
              },
              "description": "Catalog Service availability status",
              "fieldConfig": {
                "defaults": {
                  "color": {
                    "mode": "thresholds"
                  },
                  "custom": {
                    "axisBorderShow": false,
                    "axisCenteredZero": false,
                    "axisColorMode": "text",
                    "axisLabel": "",
                    "axisPlacement": "auto",
                    "barAlignment": 0,
                    "barWidthFactor": 0.6,
                    "drawStyle": "line",
                    "fillOpacity": 10,
                    "gradientMode": "none",
                    "hideFrom": {
                      "legend": false,
                      "tooltip": false,
                      "viz": false
                    },
                    "insertNulls": false,
                    "lineInterpolation": "linear",
                    "lineWidth": 1,
                    "pointSize": 5,
                    "scaleDistribution": {
                      "type": "linear"
                    },
                    "showPoints": "auto",
                    "spanNulls": false,
                    "stacking": {
                      "group": "A",
                      "mode": "none"
                    },
                    "thresholdsStyle": {
                      "mode": "off"
                    }
                  },
                  "links": [],
                  "mappings": [],
                  "max": 1,
                  "min": 0,
                  "noValue": "0",
                  "thresholds": {
                    "mode": "absolute",
                    "steps": [
                      {
                        "color": "red",
                        "value": null
                      },
                      {
                        "color": "green",
                        "value": 1
                      }
                    ]
                  }
                },
                "overrides": []
              },
              "gridPos": {
                "h": 8,
                "w": 8,
                "x": 8,
                "y": 0
              },
              "id": 2,
              "links": [
                {
                  "targetBlank": true,
                  "title": "Detailed Metrics",
                  "url": "https://{{  .Values.grafana.domainAccess.domain }}/monitoring/d/pmawgrlGk/application-metrics-view?orgId=1&from=now-24h&to=now&timezone=browser&var-service=iom-catalog&var-api=$__all&var-method=$__all"
                }
              ],
              "options": {
                "legend": {
                  "calcs": [],
                  "displayMode": "list",
                  "placement": "bottom",
                  "showLegend": true
                },
                "tooltip": {
                  "hideZeros": false,
                  "mode": "single",
                  "sort": "none"
                }
              },
              "pluginVersion": "11.5.1",
              "targets": [
                {
                  "datasource": {
                    "type": "prometheus",
                    "uid": "Prometheus"
                  },
                  "editorMode": "code",
                  "expr": "min by (app) (\n  label_replace(\n    min_over_time(kube_pod_status_ready{condition=\"true\", pod=~\"iom-catalog.*\"}[$__interval]),\n    \"app\", \n    \"$1\", \n    \"pod\", \n    \"(iom-catalog).*\"\n  )\n)",
                  "legendFormat": "__auto",
                  "range": true,
                  "refId": "A"
                }
              ],
              "title": "Catalog Service",
              "type": "timeseries"
            },
            {
              "datasource": {
                "type": "prometheus",
                "uid": "Prometheus"
              },
              "description": "Rest Catalog Service availability status",
              "fieldConfig": {
                "defaults": {
                  "color": {
                    "mode": "thresholds"
                  },
                  "custom": {
                    "axisBorderShow": false,
                    "axisCenteredZero": false,
                    "axisColorMode": "text",
                    "axisLabel": "",
                    "axisPlacement": "auto",
                    "barAlignment": 0,
                    "barWidthFactor": 0.6,
                    "drawStyle": "line",
                    "fillOpacity": 10,
                    "gradientMode": "none",
                    "hideFrom": {
                      "legend": false,
                      "tooltip": false,
                      "viz": false
                    },
                    "insertNulls": false,
                    "lineInterpolation": "linear",
                    "lineWidth": 1,
                    "pointSize": 5,
                    "scaleDistribution": {
                      "type": "linear"
                    },
                    "showPoints": "auto",
                    "spanNulls": false,
                    "stacking": {
                      "group": "A",
                      "mode": "none"
                    },
                    "thresholdsStyle": {
                      "mode": "off"
                    }
                  },
                  "links": [
                    {
                      "targetBlank": true,
                      "title": "Rest Catalog Service Detailed",
                      "url": "https://{{  .Values.grafana.domainAccess.domain }}/monitoring/d/pmawgrlGk/application-metrics-view?orgId=1&from=now-24h&to=now&timezone=browser&var-service=iom-rest-catalog&var-api=$__all&var-method=$__all"
                    }
                  ],
                  "mappings": [],
                  "max": 1,
                  "min": 0,
                  "noValue": "0",
                  "thresholds": {
                    "mode": "absolute",
                    "steps": [
                      {
                        "color": "red",
                        "value": null
                      },
                      {
                        "color": "green",
                        "value": 1
                      }
                    ]
                  }
                },
                "overrides": []
              },
              "gridPos": {
                "h": 8,
                "w": 8,
                "x": 16,
                "y": 0
              },
              "id": 1,
              "links": [
                {
                  "targetBlank": true,
                  "title": "Detailed Metrics",
                  "url": "https://{{  .Values.grafana.domainAccess.domain }}/monitoring/d/pmawgrlGk/application-metrics-view?orgId=1&from=now-24h&to=now&timezone=browser&var-service=iom-rest-catalog&var-api=$__all&var-method=$__all"
                }
              ],
              "options": {
                "legend": {
                  "calcs": [],
                  "displayMode": "list",
                  "placement": "bottom",
                  "showLegend": true
                },
                "tooltip": {
                  "hideZeros": false,
                  "mode": "single",
                  "sort": "none"
                }
              },
              "pluginVersion": "11.5.1",
              "targets": [
                {
                  "datasource": {
                    "type": "prometheus",
                    "uid": "Prometheus"
                  },
                  "editorMode": "code",
                  "expr": "min by (app) (\n  label_replace(\n    min_over_time(kube_pod_status_ready{condition=\"true\", pod=~\"iom-rest-catalog.*\"}[$__interval]),\n    \"app\", \n    \"$1\", \n    \"pod\", \n    \"(iom-rest-catalog).*\"\n  )\n)",
                  "legendFormat": "__auto",
                  "range": true,
                  "refId": "A"
                }
              ],
              "title": "Rest Catalog Service",
              "type": "timeseries"
            },
            {
              "datasource": {
                "type": "prometheus",
                "uid": "Prometheus"
              },
              "description": "SQL Service availability status",
              "fieldConfig": {
                "defaults": {
                  "color": {
                    "mode": "thresholds"
                  },
                  "custom": {
                    "axisBorderShow": false,
                    "axisCenteredZero": false,
                    "axisColorMode": "text",
                    "axisLabel": "",
                    "axisPlacement": "auto",
                    "barAlignment": 0,
                    "barWidthFactor": 0.6,
                    "drawStyle": "line",
                    "fillOpacity": 10,
                    "gradientMode": "none",
                    "hideFrom": {
                      "legend": false,
                      "tooltip": false,
                      "viz": false
                    },
                    "insertNulls": false,
                    "lineInterpolation": "linear",
                    "lineWidth": 1,
                    "pointSize": 5,
                    "scaleDistribution": {
                      "type": "linear"
                    },
                    "showPoints": "auto",
                    "spanNulls": false,
                    "stacking": {
                      "group": "A",
                      "mode": "none"
                    },
                    "thresholdsStyle": {
                      "mode": "off"
                    }
                  },
                  "links": [
                    {
                      "targetBlank": true,
                      "title": "Identity Service Detailed",
                      "url": "https://{{  .Values.grafana.domainAccess.domain }}/monitoring/d/pmawgrlGk/application-metrics-view?orgId=1&from=now-24h&to=now&timezone=browser&var-service=iom-sql&var-api=$__all&var-method=$__all"
                    }
                  ],
                  "mappings": [],
                  "max": 1,
                  "min": 0,
                  "noValue": "0",
                  "thresholds": {
                    "mode": "absolute",
                    "steps": [
                      {
                        "color": "red",
                        "value": null
                      },
                      {
                        "color": "green",
                        "value": 1
                      }
                    ]
                  }
                },
                "overrides": []
              },
              "gridPos": {
                "h": 8,
                "w": 8,
                "x": 0,
                "y": 8
              },
              "id": 5,
              "links": [
                {
                  "targetBlank": true,
                  "title": "Detailed Metrics",
                  "url": "https://{{  .Values.grafana.domainAccess.domain }}/monitoring/d/pmawgrlGk/application-metrics-view?orgId=1&from=now-24h&to=now&timezone=browser&var-service=iom-sql&var-api=$__all&var-method=$__all"
                }
              ],
              "options": {
                "legend": {
                  "calcs": [],
                  "displayMode": "list",
                  "placement": "bottom",
                  "showLegend": true
                },
                "tooltip": {
                  "hideZeros": false,
                  "mode": "single",
                  "sort": "none"
                }
              },
              "pluginVersion": "11.5.1",
              "targets": [
                {
                  "datasource": {
                    "type": "prometheus",
                    "uid": "Prometheus"
                  },
                  "editorMode": "code",
                  "expr": "min by (app) (\n  label_replace(\n    min_over_time(kube_pod_status_ready{condition=\"true\", pod=~\"iom-sql.*\"}[$__interval]),\n    \"app\", \n    \"$1\", \n    \"pod\", \n    \"(iom-sql).*\"\n  )\n)",
                  "legendFormat": "__auto",
                  "range": true,
                  "refId": "A"
                }
              ],
              "title": "SQL Service",
              "type": "timeseries"
            },
            {
              "datasource": {
                "type": "prometheus",
                "uid": "Prometheus"
              },
              "description": "Catalog Service availability status",
              "fieldConfig": {
                "defaults": {
                  "color": {
                    "mode": "thresholds"
                  },
                  "custom": {
                    "axisBorderShow": false,
                    "axisCenteredZero": false,
                    "axisColorMode": "text",
                    "axisLabel": "",
                    "axisPlacement": "auto",
                    "barAlignment": 0,
                    "barWidthFactor": 0.6,
                    "drawStyle": "line",
                    "fillOpacity": 10,
                    "gradientMode": "none",
                    "hideFrom": {
                      "legend": false,
                      "tooltip": false,
                      "viz": false
                    },
                    "insertNulls": false,
                    "lineInterpolation": "linear",
                    "lineWidth": 1,
                    "pointSize": 5,
                    "scaleDistribution": {
                      "type": "linear"
                    },
                    "showPoints": "auto",
                    "spanNulls": false,
                    "stacking": {
                      "group": "A",
                      "mode": "none"
                    },
                    "thresholdsStyle": {
                      "mode": "off"
                    }
                  },
                  "links": [
                    {
                      "targetBlank": true,
                      "title": "Identity Service Detailed",
                      "url": "https://{{  .Values.grafana.domainAccess.domain }}/monitoring/d/pmawgrlGk/application-metrics-view?orgId=1&from=now-24h&to=now&timezone=browser&var-service=iom-identity&var-api=$__all&var-method=$__all"
                    }
                  ],
                  "mappings": [],
                  "max": 1,
                  "min": 0,
                  "noValue": "0",
                  "thresholds": {
                    "mode": "absolute",
                    "steps": [
                      {
                        "color": "red",
                        "value": null
                      },
                      {
                        "color": "green",
                        "value": 1
                      }
                    ]
                  }
                },
                "overrides": []
              },
              "gridPos": {
                "h": 8,
                "w": 8,
                "x": 8,
                "y": 8
              },
              "id": 3,
              "links": [
                {
                  "targetBlank": true,
                  "title": "Detailed Metrics",
                  "url": "https://{{  .Values.grafana.domainAccess.domain }}/monitoring/d/pmawgrlGk/application-metrics-view?orgId=1&from=now-24h&to=now&timezone=browser&var-service=iom-identity&var-api=$__all&var-method=$__all"
                }
              ],
              "options": {
                "legend": {
                  "calcs": [],
                  "displayMode": "list",
                  "placement": "bottom",
                  "showLegend": true
                },
                "tooltip": {
                  "hideZeros": false,
                  "mode": "single",
                  "sort": "none"
                }
              },
              "pluginVersion": "11.5.1",
              "targets": [
                {
                  "datasource": {
                    "type": "prometheus",
                    "uid": "Prometheus"
                  },
                  "editorMode": "code",
                  "expr": "min by (app) (\n  label_replace(\n    min_over_time(kube_pod_status_ready{condition=\"true\", pod=~\"iom-identity.*\"}[$__interval]),\n    \"app\", \n    \"$1\", \n    \"pod\", \n    \"(iom-identity).*\"\n  )\n)",
                  "legendFormat": "__auto",
                  "range": true,
                  "refId": "A"
                }
              ],
              "title": "Identity Service",
              "type": "timeseries"
            },
            {
              "datasource": {
                "type": "prometheus",
                "uid": "Prometheus"
              },
              "description": "Spark History availability status",
              "fieldConfig": {
                "defaults": {
                  "color": {
                    "mode": "thresholds"
                  },
                  "custom": {
                    "axisBorderShow": false,
                    "axisCenteredZero": false,
                    "axisColorMode": "text",
                    "axisLabel": "",
                    "axisPlacement": "auto",
                    "barAlignment": 0,
                    "barWidthFactor": 0.6,
                    "drawStyle": "line",
                    "fillOpacity": 10,
                    "gradientMode": "none",
                    "hideFrom": {
                      "legend": false,
                      "tooltip": false,
                      "viz": false
                    },
                    "insertNulls": false,
                    "lineInterpolation": "linear",
                    "lineWidth": 1,
                    "pointSize": 5,
                    "scaleDistribution": {
                      "type": "linear"
                    },
                    "showPoints": "auto",
                    "spanNulls": false,
                    "stacking": {
                      "group": "A",
                      "mode": "none"
                    },
                    "thresholdsStyle": {
                      "mode": "off"
                    }
                  },
                  "links": [],
                  "mappings": [],
                  "max": 1,
                  "min": 0,
                  "noValue": "0",
                  "thresholds": {
                    "mode": "absolute",
                    "steps": [
                      {
                        "color": "red",
                        "value": null
                      },
                      {
                        "color": "green",
                        "value": 1
                      }
                    ]
                  }
                },
                "overrides": []
              },
              "gridPos": {
                "h": 8,
                "w": 8,
                "x": 16,
                "y": 8
              },
              "id": 6,
              "options": {
                "legend": {
                  "calcs": [],
                  "displayMode": "list",
                  "placement": "bottom",
                  "showLegend": true
                },
                "tooltip": {
                  "hideZeros": false,
                  "mode": "single",
                  "sort": "none"
                }
              },
              "pluginVersion": "11.5.1",
              "targets": [
                {
                  "datasource": {
                    "type": "prometheus",
                    "uid": "Prometheus"
                  },
                  "editorMode": "code",
                  "expr": "min by (app) (\n  label_replace(\n    min_over_time(kube_pod_status_ready{condition=\"true\", pod=~\"spark-history.*\"}[$__interval]),\n    \"app\", \n    \"$1\", \n    \"pod\", \n    \"(spark-history).*\"\n  )\n)",
                  "legendFormat": "__auto",
                  "range": true,
                  "refId": "A"
                }
              ],
              "title": "Spark History",
              "type": "timeseries"
            },
            {
              "datasource": {
                "type": "prometheus",
                "uid": "Prometheus"
              },
              "description": "Spark Operator availability status",
              "fieldConfig": {
                "defaults": {
                  "color": {
                    "mode": "thresholds"
                  },
                  "custom": {
                    "axisBorderShow": false,
                    "axisCenteredZero": false,
                    "axisColorMode": "text",
                    "axisLabel": "",
                    "axisPlacement": "auto",
                    "barAlignment": 0,
                    "barWidthFactor": 0.6,
                    "drawStyle": "line",
                    "fillOpacity": 10,
                    "gradientMode": "none",
                    "hideFrom": {
                      "legend": false,
                      "tooltip": false,
                      "viz": false
                    },
                    "insertNulls": false,
                    "lineInterpolation": "linear",
                    "lineWidth": 1,
                    "pointSize": 5,
                    "scaleDistribution": {
                      "type": "linear"
                    },
                    "showPoints": "auto",
                    "spanNulls": false,
                    "stacking": {
                      "group": "A",
                      "mode": "none"
                    },
                    "thresholdsStyle": {
                      "mode": "off"
                    }
                  },
                  "links": [],
                  "mappings": [],
                  "max": 1,
                  "min": 0,
                  "noValue": "0",
                  "thresholds": {
                    "mode": "absolute",
                    "steps": [
                      {
                        "color": "red",
                        "value": null
                      },
                      {
                        "color": "green",
                        "value": 1
                      }
                    ]
                  }
                },
                "overrides": []
              },
              "gridPos": {
                "h": 8,
                "w": 8,
                "x": 0,
                "y": 16
              },
              "id": 7,
              "options": {
                "legend": {
                  "calcs": [],
                  "displayMode": "list",
                  "placement": "bottom",
                  "showLegend": true
                },
                "tooltip": {
                  "hideZeros": false,
                  "mode": "single",
                  "sort": "none"
                }
              },
              "pluginVersion": "11.5.1",
              "targets": [
                {
                  "datasource": {
                    "type": "prometheus",
                    "uid": "Prometheus"
                  },
                  "editorMode": "code",
                  "expr": "min by (app) (\n  label_replace(\n    min_over_time(kube_pod_status_ready{condition=\"true\", pod=~\"spark-operator.*\"}[$__interval]),\n    \"app\", \n    \"$1\", \n    \"pod\", \n    \"(spark-operator).*\"\n  )\n)",
                  "legendFormat": "__auto",
                  "range": true,
                  "refId": "A"
                }
              ],
              "title": "Spark Operator",
              "type": "timeseries"
            },
            {
              "datasource": {
                "type": "prometheus",
                "uid": "Prometheus"
              },
              "description": "iom-socket pod",
              "fieldConfig": {
                "defaults": {
                  "color": {
                    "mode": "thresholds"
                  },
                  "custom": {
                    "axisBorderShow": false,
                    "axisCenteredZero": false,
                    "axisColorMode": "text",
                    "axisLabel": "",
                    "axisPlacement": "auto",
                    "barAlignment": 0,
                    "barWidthFactor": 0.6,
                    "drawStyle": "line",
                    "fillOpacity": 10,
                    "gradientMode": "none",
                    "hideFrom": {
                      "legend": false,
                      "tooltip": false,
                      "viz": false
                    },
                    "insertNulls": false,
                    "lineInterpolation": "linear",
                    "lineWidth": 1,
                    "pointSize": 5,
                    "scaleDistribution": {
                      "type": "linear"
                    },
                    "showPoints": "auto",
                    "spanNulls": false,
                    "stacking": {
                      "group": "A",
                      "mode": "none"
                    },
                    "thresholdsStyle": {
                      "mode": "off"
                    }
                  },
                  "links": [],
                  "mappings": [],
                  "max": 1,
                  "min": 0,
                  "noValue": "0",
                  "thresholds": {
                    "mode": "absolute",
                    "steps": [
                      {
                        "color": "red",
                        "value": null
                      },
                      {
                        "color": "green",
                        "value": 1
                      }
                    ]
                  }
                },
                "overrides": []
              },
              "gridPos": {
                "h": 8,
                "w": 8,
                "x": 8,
                "y": 16
              },
              "id": 8,
              "options": {
                "legend": {
                  "calcs": [],
                  "displayMode": "list",
                  "placement": "bottom",
                  "showLegend": true
                },
                "tooltip": {
                  "hideZeros": false,
                  "mode": "single",
                  "sort": "none"
                }
              },
              "pluginVersion": "11.5.1",
              "targets": [
                {
                  "datasource": {
                    "type": "prometheus",
                    "uid": "Prometheus"
                  },
                  "editorMode": "code",
                  "expr": "min by (app) (\n  label_replace(\n    min_over_time(kube_pod_status_ready{condition=\"true\", pod=~\"iom-socket.*\"}[$__interval]),\n    \"app\", \n    \"$1\", \n    \"pod\", \n    \"(iom-socket).*\"\n  )\n)",
                  "legendFormat": "__auto",
                  "range": true,
                  "refId": "A"
                }
              ],
              "title": "Socket Service",
              "type": "timeseries"
            },
            {
              "datasource": {
                "type": "prometheus",
                "uid": "Prometheus"
              },
              "description": "iom-gateway pod",
              "fieldConfig": {
                "defaults": {
                  "color": {
                    "mode": "thresholds"
                  },
                  "custom": {
                    "axisBorderShow": false,
                    "axisCenteredZero": false,
                    "axisColorMode": "text",
                    "axisLabel": "",
                    "axisPlacement": "auto",
                    "barAlignment": 0,
                    "barWidthFactor": 0.6,
                    "drawStyle": "line",
                    "fillOpacity": 10,
                    "gradientMode": "none",
                    "hideFrom": {
                      "legend": false,
                      "tooltip": false,
                      "viz": false
                    },
                    "insertNulls": false,
                    "lineInterpolation": "linear",
                    "lineWidth": 1,
                    "pointSize": 5,
                    "scaleDistribution": {
                      "type": "linear"
                    },
                    "showPoints": "auto",
                    "spanNulls": false,
                    "stacking": {
                      "group": "A",
                      "mode": "none"
                    },
                    "thresholdsStyle": {
                      "mode": "off"
                    }
                  },
                  "links": [],
                  "mappings": [],
                  "max": 1,
                  "min": 0,
                  "noValue": "0",
                  "thresholds": {
                    "mode": "absolute",
                    "steps": [
                      {
                        "color": "red",
                        "value": null
                      },
                      {
                        "color": "green",
                        "value": 1
                      }
                    ]
                  }
                },
                "overrides": []
              },
              "gridPos": {
                "h": 8,
                "w": 8,
                "x": 16,
                "y": 16
              },
              "id": 9,
              "options": {
                "legend": {
                  "calcs": [],
                  "displayMode": "list",
                  "placement": "bottom",
                  "showLegend": true
                },
                "tooltip": {
                  "hideZeros": false,
                  "mode": "single",
                  "sort": "none"
                }
              },
              "pluginVersion": "11.5.1",
              "targets": [
                {
                  "datasource": {
                    "type": "prometheus",
                    "uid": "Prometheus"
                  },
                  "editorMode": "code",
                  "expr": "min by (app) (\n  label_replace(\n    min_over_time(kube_pod_status_ready{condition=\"true\", pod=~\"iom-gateway.*\"}[$__interval]),\n    \"app\", \n    \"$1\", \n    \"pod\", \n    \"(iom-gateway).*\"\n  )\n)",
                  "legendFormat": "__auto",
                  "range": true,
                  "refId": "A"
                }
              ],
              "title": "NGINX Gateway",
              "type": "timeseries"
            },
            {
              "datasource": {
                "type": "prometheus",
                "uid": "Prometheus"
              },
              "description": "iom-spark-connect-driver pod",
              "fieldConfig": {
                "defaults": {
                  "color": {
                    "mode": "thresholds"
                  },
                  "custom": {
                    "axisBorderShow": false,
                    "axisCenteredZero": false,
                    "axisColorMode": "text",
                    "axisLabel": "",
                    "axisPlacement": "auto",
                    "barAlignment": 0,
                    "barWidthFactor": 0.6,
                    "drawStyle": "line",
                    "fillOpacity": 10,
                    "gradientMode": "none",
                    "hideFrom": {
                      "legend": false,
                      "tooltip": false,
                      "viz": false
                    },
                    "insertNulls": false,
                    "lineInterpolation": "linear",
                    "lineWidth": 1,
                    "pointSize": 5,
                    "scaleDistribution": {
                      "type": "linear"
                },
                "showPoints": "auto",
                "spanNulls": false,
                "stacking": {
                  "group": "A",
                  "mode": "none"
                },
                "thresholdsStyle": {
                  "mode": "off"
                }
              },
              "links": [],
              "mappings": [],
              "max": 1,
              "min": 0,
              "noValue": "0",
              "thresholds": {
                "mode": "absolute",
                "steps": [
                  {
                    "color": "red",
                    "value": null
                  },
                  {
                    "color": "green",
                    "value": 1
                  }
                ]
              }
            },
            "overrides": []
          },
          "gridPos": {
            "h": 8,
            "w": 8,
            "x": 0,
            "y": 24
          },
          "id": 10,
          "options": {
            "legend": {
              "calcs": [],
              "displayMode": "list",
              "placement": "bottom",
              "showLegend": true
            },
            "tooltip": {
              "hideZeros": false,
              "mode": "single",
              "sort": "none"
            }
          },
          "pluginVersion": "11.5.1",
          "targets": [
            {
              "datasource": {
                "type": "prometheus",
                "uid": "Prometheus"
              },
              "editorMode": "code",
              "expr": "min by (app) (\n  label_replace(\n    min_over_time(kube_pod_status_ready{condition=\"true\", pod=~\"iom-spark-connect-driver.*\"}[$__interval]),\n    \"app\", \n    \"$1\", \n    \"pod\", \n    \"(iom-spark-connect-driver).*\"\n  )\n)",
              "legendFormat": "__auto",
              "range": true,
              "refId": "A"
            }
          ],
          "title": "Internal Spark Connect",
          "type": "timeseries"
        }
      ],
      "preload": false,
      "refresh": "",
      "schemaVersion": 40,
      "tags": [],
      "templating": {
        "list": []
      },
      "time": {
        "from": "now-15m",
        "to": "now"
      },
      "timepicker": {},
      "timezone": "browser",
      "title": "IOMETE Service Availability",
      "uid": "serv-avail",
      "version": 1,
      "weekStart": ""
    }
              